<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">
  {% include head.html %}
  <body id="ryan" class="homepage">
    <script type="text/javascript">
      $(function () {
        $('[data-toggle="tooltip"]').tooltip()
      })
      $(document).ready(function() {
				$(".recent-posts-link:not(.header)").on('click', function() {
					window.scrollBy({
  					top: $(window).height() - 270,
					  left: 0,
					  behavior: 'smooth',
					});
				});
        $(window).on('scroll', function() {
          var scrollTop     = $(window).scrollTop();
          var windowHeight  = $(window).height();
          var percentage    = scrollTop/windowHeight;
          var opacity       = Math.pow(percentage * 4, 2);
          $(".underneath-shield").css("opacity", opacity);
					if(scrollTop > 20) {
						$(".hero-text").css("opacity", 0);
						$(".column-grid").addClass("upward");
						$(".recent-posts-link").addClass("header");
					}
					if(scrollTop <= 18 && $(".column-grid").css("opacity") != 0) {
						$(".hero-text").css("opacity", 1);
						$(".column-grid").removeClass("upward");
						$(".recent-posts-link").removeClass("header");
					}
        });
      });
    </script>
    {% if jekyll.environment == 'production' %}
      {% include google-analytics.html %}
    {% endif %}
    <!-- Syntax highlighting -->
    <script>hljs.initHighlightingOnLoad();</script>
    <div class="underneath" style="background-image: url({{ site.baseurl }}/img/2017-10/half-long.jpg)"></div>
		<div class="underneath-shield"></div>
    <div class="on-top">
      {% include header.html %}
      <main aria-label="Content">
        <div id="home">
          <h1 class="sr-only">Home</h1>
          {{ content }}
          <div class="container">
            <div class="row">
              <div class="col-xl-12">
                <div class="column-grid">
                  {% for post in site.posts limit:9 %}
                    {% include post/post.html %}
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
      {% include footer.html %}
    </div>
  </body>
</html>
